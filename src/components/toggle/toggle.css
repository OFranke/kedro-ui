/** Imports **/

@import '../../styles/includes';

/** Variables **/

$size-toggle-margin: 12px;
$size-toggle-outline: 7px;
$size-toggle-padding: 4px;
$size-toggle-text-margin: 8px;
$size-toggle-margin-bottom: -3px;
$size-toggle-margin-small: 10px;
$size-toggle-y-offset: 5px;
$size-underline-height: 2px;
$size-underline-offset: 6px;
$size-separator-margin: -$size-toggle-y-offset 8px 0;
$size-separator-rotation: -45deg;
$duration-underline-hovered: 0.5s;
$duration-separator-switch: 0.5s;
$duration-switch-hover: 0.1s;

.cbn-toggle {
  display: flex;
  padding-top: $size-toggle-padding;
  justify-content: space-between;

  &--disabled {
    opacity: 0.5;
    cursor: not-allowed;

    .cbn-switch {
      pointer-events: none;
    }
  }

  .cbn-switch {
    margin: 0;

    &:active {
      opacity: 1;
    }
  }
}

.cbn-toggle__label {
  @extend %type--subhead-2;
  @extend %type--regular;

  @mixin themedParent color, toggle;

  margin: 0 0 $size-toggle-text-margin;

  &.cbn-toggle--bold {
    @extend %type--semibold;
  }
}

.cbn-toggle__switch {
  @mixin themedParent color, toggle;

  display: flex;
  margin: 0 0 $size-toggle-text-margin;
  cursor: pointer;
  transition: $duration-switch-hover;
  outline: $size-toggle-outline solid transparent;
  transform: translateY($size-toggle-y-offset);

  .cbn-switch__input:active + &,
  .cbn-switch__input:focus + & {
    @mixin themedParent outline-color, toggle, focus;
    @mixin themedParent background-color, toggle, focus;
  }

  &:hover {
    .cbn-toggle__text {
      @mixin themedParent color, toggle, hover;
    }
  }
}

.cbn-toggle__button {
  transform: translateY(-$size-toggle-y-offset);

  &::after {
    @mixin themedParent background-color, toggle, underline;

    transform: scaleX(0);

    position: relative;
    top: $size-underline-offset;

    display: block;
    content: '';

    height: $size-underline-height;
    transition: transform $duration-underline-hovered;
  }

  &.cbn-toggle--selected {
    .cbn-toggle__text {
      @mixin themedParent color, text;
    }

    &::after {
      transform: scaleX(1);

      @mixin themedParent background-color, toggle;

      height: $size-underline-height;
    }
  }
}

.cbn-toggle__text,
.cbn-toggle__separator {
  @extend %type--subhead-2;
  @extend %type--semibold;

  @mixin themedParent color, toggle, disabled;

  margin-bottom: $size-toggle-margin-bottom;
}

.cbn-toggle__text {
  text-transform: uppercase;
  transition: color $duration-switch-hover;
}

.cbn-toggle__separator {
  transition: $duration-separator-switch;

  margin: $size-separator-margin;

  &.cbn-toggle__separator--right {
    transform: rotate($size-separator-rotation);
  }
}
